{"version":3,"file":"js/357.dbf7dc12.js","mappings":"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","sources":["webpack://parkinghub_v1.0/./src/views/BrandForm.vue?84e6","webpack://parkinghub_v1.0/./src/views/BrandForm.vue?4d4d","webpack://parkinghub_v1.0/./src/views/BrandForm.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-05bc805a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Brands\", -1))\nconst _hoisted_3 = { class: \"input-section\" }\nconst _hoisted_4 = { class: \"brands-table\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", null, [\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Brand Name\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Actions\")\n  ])\n], -1))\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = { class: \"popup-content\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Update Brand\", -1))\nconst _hoisted_10 = { class: \"popup-buttons\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _withDirectives(_createElementVNode(\"input\", {\n        class: \"brand-input\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.newBrandName) = $event)),\n        placeholder: \"Brand Name\",\n        onKeyup: _cache[1] || (_cache[1] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.createBrand && _ctx.createBrand(...args)), [\"enter\"]))\n      }, null, 544), [\n        [_vModelText, _ctx.newBrandName]\n      ]),\n      _createElementVNode(\"button\", {\n        onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.createBrand && _ctx.createBrand(...args))),\n        class: \"add-button\"\n      }, \"Add Brand\")\n    ]),\n    _createElementVNode(\"table\", _hoisted_4, [\n      _hoisted_5,\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.brands, (brand) => {\n          return (_openBlock(), _createElementBlock(\"tr\", {\n            key: brand.id\n          }, [\n            _createElementVNode(\"td\", null, _toDisplayString(brand.name), 1),\n            _createElementVNode(\"td\", null, [\n              _createElementVNode(\"button\", {\n                onClick: ($event: any) => (_ctx.openUpdatePopup(brand)),\n                class: \"action-button\"\n              }, \"Update\", 8, _hoisted_6),\n              _createElementVNode(\"button\", {\n                onClick: ($event: any) => (_ctx.deleteBrandFromDB(brand.id)),\n                class: \"action-button\"\n              }, \"Delete\", 8, _hoisted_7)\n            ])\n          ]))\n        }), 128))\n      ])\n    ]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"popup\", { 'show': _ctx.showPopup }])\n    }, [\n      _createElementVNode(\"div\", _hoisted_8, [\n        _hoisted_9,\n        _withDirectives(_createElementVNode(\"input\", {\n          class: \"brand-input\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.updatedBrandName) = $event)),\n          placeholder: \"New Brand Name\"\n        }, null, 512), [\n          [_vModelText, _ctx.updatedBrandName]\n        ]),\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"button\", {\n            onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.updateBrand && _ctx.updateBrand(...args))),\n            class: \"update-button\"\n          }, \"Update\"),\n          _createElementVNode(\"button\", {\n            onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.cancelUpdate && _ctx.cancelUpdate(...args))),\n            class: \"cancel-button\"\n          }, \"Cancel\")\n        ])\n      ])\n    ], 2)\n  ]))\n}","\nimport { defineComponent, ref, onMounted } from 'vue';\n\nexport default defineComponent({\n  setup() {\n    const newBrandName = ref<string>('');\n    const updatedBrandName = ref<string>('');\n    const brands = ref<any[]>([]);\n    let db: IDBDatabase;\n    let brandToUpdate: any;\n    let showPopup = ref<boolean>(false);\n\n    const dbRequest = indexedDB.open('movementDatabase', 1);\n\n    dbRequest.onupgradeneeded = function (event: any) {\n      db = event.target.result;\n      if (db) {\n        const brandObjectStore = db.createObjectStore('brands', { keyPath: 'id', autoIncrement: true });\n        brandObjectStore.createIndex('name', 'name', { unique: true });\n        const objectStore = db.createObjectStore('models', { keyPath: 'id', autoIncrement: true });\n        objectStore.createIndex('register', 'register', { unique: false });\n        objectStore.createIndex('update', 'update', { unique: false });\n        objectStore.createIndex('active', 'active', { unique: false });\n      }\n    };\n\n    dbRequest.onsuccess = function (event: any) {\n      db = event.target.result;\n      fetchBrandsFromDB();\n    };\n\n    const addBrandToDB = (name: string): void => {\n      if (!db) return;\n      const transaction = db.transaction(['brands'], 'readwrite');\n      const objectStore = transaction.objectStore('brands');\n      const register = new Date().toLocaleTimeString();\n      const brand = {\n        name: name,\n        register: register,\n        update: null,\n        active: true,\n      };\n      objectStore.add(brand);\n      fetchBrandsFromDB();\n    };\n\n    const updateBrandInDB = (id: number, newName: string): void => {\n      if (!db) return;\n      const transaction = db.transaction(['brands'], 'readwrite');\n      const objectStore = transaction.objectStore('brands');\n      const getRequest = objectStore.get(id);\n\n      getRequest.onsuccess = function () {\n        const data = getRequest.result;\n        data.name = newName;\n        data.update = new Date();\n        objectStore.put(data);\n        fetchBrandsFromDB();\n      };\n    };\n\n    const deleteBrandFromDB = (id: number): void => {\n      if (!db) return;\n      const transaction = db.transaction(['brands'], 'readwrite');\n      const objectStore = transaction.objectStore('brands');\n      objectStore.delete(id);\n      fetchBrandsFromDB();\n    };\n\n    const fetchBrandsFromDB = (): void => {\n      if (!db) return;\n      const transaction = db.transaction(['brands'], 'readonly');\n      const objectStore = transaction.objectStore('brands');\n      const getRequest = objectStore.getAll();\n\n      getRequest.onsuccess = function (event: any) {\n        brands.value = event.target.result;\n      };\n    };\n\n    const createBrand = (): void => {\n      if (newBrandName.value.trim() === '') return;\n      addBrandToDB(newBrandName.value);\n      newBrandName.value = '';\n    };\n\n    const openUpdatePopup = (brand: any): void => {\n      brandToUpdate = brand;\n      updatedBrandName.value = brand.name;\n      showPopup.value = true;\n    };\n\n    const updateBrand = (): void => {\n      if (brandToUpdate && updatedBrandName.value.trim() !== '') {\n        updateBrandInDB(brandToUpdate.id, updatedBrandName.value);\n        closePopup();\n      }\n    };\n\n    const cancelUpdate = (): void => {\n      brandToUpdate = null;\n      updatedBrandName.value = '';\n      closePopup();\n    };\n\n    const closePopup = (): void => {\n      showPopup.value = false;\n    };\n\n    onMounted(fetchBrandsFromDB);\n\n    return {\n      newBrandName,\n      updatedBrandName,\n      brands,\n      createBrand,\n      openUpdatePopup,\n      updateBrand,\n      cancelUpdate,\n      deleteBrandFromDB,\n      showPopup,\n    };\n  },\n});\n","import { render } from \"./BrandForm.vue?vue&type=template&id=05bc805a&scoped=true&ts=true\"\nimport script from \"./BrandForm.vue?vue&type=script&lang=ts\"\nexport * from \"./BrandForm.vue?vue&type=script&lang=ts\"\n\nimport \"./BrandForm.vue?vue&type=style&index=0&id=05bc805a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-05bc805a\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_withDirectives","$event","newBrandName","placeholder","onKeyup","_withKeys","args","createBrand","_vModelText","onClick","_Fragment","_renderList","brands","brand","key","id","_toDisplayString","name","openUpdatePopup","deleteBrandFromDB","_normalizeClass","showPopup","updatedBrandName","updateBrand","cancelUpdate","defineComponent","setup","ref","db","brandToUpdate","dbRequest","indexedDB","open","onupgradeneeded","event","target","result","brandObjectStore","createObjectStore","keyPath","autoIncrement","createIndex","unique","objectStore","onsuccess","fetchBrandsFromDB","addBrandToDB","transaction","register","Date","toLocaleTimeString","update","active","add","updateBrandInDB","newName","getRequest","get","data","put","delete","getAll","value","trim","closePopup","onMounted","__exports__"],"sourceRoot":""}